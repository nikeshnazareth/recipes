Recipe:
  required:
    - title
    - prepTime
    - cookTime
    - ingredientSections
  properties:
    id:
      $ref: '#/definitions/ID'
    title:
      type: string
    serves:
      $ref: '#/definitions/Quantity'
    makes:
      $ref: '#/definitions/Quantity'
    prep_time:
      $ref: '#/definitions/Duration'
    cook_time:
      $ref: '#/definitions/Duration'
    ingredient_sections:
      type: array
      items:
        $ref: '#/definitions/IngredientSection'
    method:
      type: array
      items:
        type: string
    reference_url:
      type: string
    last_updated:
      $ref: '#/definitions/Timestamp'

IngredientSection:
  required:
    - ingredients
  properties:
    heading:
      type: string
    ingredients:
      type: array
      items:
        $ref: '#/definitions/Ingredient'

Ingredient:
  required:
    - amount
    - unit
    - foodID
  properties:
    amount:
      $ref: '#/definitions/Quantity'
    unit_id:
      $ref: '#/definitions/UnitID'
    food_id:
      $ref: '#/definitions/ID'

Food:
  required:
    - name
    - conversions
  properties:
    id:
      $ref: '#/definitions/ID'
    name:
      $ref: '#/definitions/Name'
    conversions:
      type: array
      items:
        type: object
        required:
          - unit
          - ratio
        properties:
          unit_id:
            $ref: '#/definitions/UnitID'
          ratio:
            type: number

ID:
  type: string
  example: '< Set by the server >'

Name:
  properties:
    singular:
      type: string
    plural:
      type: string

Quantity:
  type: number

# In mins
Duration:
  type: number

# The app uses a hardcoded enum to describe units
UnitID:
  type: number

Timestamp:
  type: number
  example: '< Set by the server >'